{"attributes":{"kind":"function","backlinks":[{"tag":"sourcefile","title":"Flux/src/losses/functions.jl","docid":"sourcefiles/Flux/src/losses/functions.jl"},{"tag":"sourcefile","title":"Flux/src/losses/Losses.jl","docid":"sourcefiles/Flux/src/losses/Losses.jl"}],"methods":[{"line":524,"file":"/home/runner/.julia/packages/Flux/qAdFM/src/losses/functions.jl","method_id":"Flux.Losses.focal_loss_1","symbol_id":"Flux.Losses.focal_loss","signature":"focal_loss(ŷ, y; dims, agg, γ, ϵ)"}],"name":"focal_loss","title":"focal_loss","symbol_id":"Flux.Losses.focal_loss","public":true,"module_id":"Flux.Losses"},"tag":"documentation","children":[{"attributes":{},"tag":"body","children":[{"attributes":{"lang":""},"tag":"codeblock","children":[{"attributes":{},"tag":"CST_DEFINITION","children":[{"attributes":{},"tag":"CST_call","children":[{"attributes":{"reftype":"symbol","document_id":"references/Flux.Losses.focal_loss"},"tag":"reference","children":[{"mimes":{"text/plain":"focal_loss"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"("}}]},{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"ŷ"}}]},{"attributes":{},"tag":"CST_PUNCTUATION","children":[{"mimes":{"text/plain":", "}}]},{"attributes":{},"tag":"CST_span","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"y;"}}]},{"attributes":{},"tag":"CST_whitespace","children":[{"mimes":{"text/plain":" "}}]}]},{"attributes":{},"tag":"CST_parameters","children":[{"attributes":{},"tag":"CST_kw","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"dims"}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"="}}]},{"attributes":{},"tag":"CST_INTEGER","children":[{"mimes":{"text/plain":"1"}}]}]},{"attributes":{},"tag":"CST_PUNCTUATION","children":[{"mimes":{"text/plain":", "}}]},{"attributes":{},"tag":"CST_kw","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"agg"}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"="}}]},{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"mean"}}]}]},{"attributes":{},"tag":"CST_PUNCTUATION","children":[{"mimes":{"text/plain":", "}}]},{"attributes":{},"tag":"CST_kw","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"γ"}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"="}}]},{"attributes":{},"tag":"CST_INTEGER","children":[{"mimes":{"text/plain":"2"}}]}]},{"attributes":{},"tag":"CST_PUNCTUATION","children":[{"mimes":{"text/plain":", "}}]},{"attributes":{},"tag":"CST_kw","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"ϵ"}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"="}}]},{"attributes":{},"tag":"CST_call","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"eps"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"("}}]},{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"ŷ"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":")"}}]}]}]}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":")"}}]}]}]}]},{"attributes":{},"tag":"p","children":[{"mimes":{"text/plain":"Return the "}},{"attributes":{"href":"https://arxiv.org/pdf/1708.02002.pdf","title":""},"tag":"a","children":[{"mimes":{"text/plain":"focal"}},{"mimes":{"text/plain":"_"}},{"mimes":{"text/plain":"loss"}}]},{"attributes":{},"tag":"br","children":[]},{"mimes":{"text/plain":"which can be used in classification tasks with highly imbalanced classes"}},{"mimes":{"text/plain":"."}},{"attributes":{},"tag":"br","children":[]},{"mimes":{"text/plain":"It down"}},{"mimes":{"text/plain":"-"}},{"mimes":{"text/plain":"weights well"}},{"mimes":{"text/plain":"-"}},{"mimes":{"text/plain":"classified examples and focuses on hard examples"}},{"mimes":{"text/plain":"."}},{"attributes":{},"tag":"br","children":[]},{"mimes":{"text/plain":"The input, "}},{"mimes":{"text/plain":"‘"}},{"mimes":{"text/plain":"ŷ"}},{"mimes":{"text/plain":"’"}},{"mimes":{"text/plain":", is expected to be normalized (i"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":"e"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" "}},{"attributes":{"reftype":"document","href":"@ref","title":"","document_id":"references/@ref"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"softmax"}}]}]},{"mimes":{"text/plain":" output)"}},{"mimes":{"text/plain":"."}}]},{"attributes":{},"tag":"p","children":[{"mimes":{"text/plain":"The modulating factor, "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"γ"}}]},{"mimes":{"text/plain":", controls the down"}},{"mimes":{"text/plain":"-"}},{"mimes":{"text/plain":"weighting strength"}},{"mimes":{"text/plain":"."}},{"attributes":{},"tag":"br","children":[]},{"mimes":{"text/plain":"For "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"γ == 0"}}]},{"mimes":{"text/plain":", the loss is mathematically equivalent to "}},{"attributes":{"reftype":"document","href":"@ref","title":"","document_id":"references/@ref"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"Losses.crossentropy"}}]}]},{"mimes":{"text/plain":"."}}]},{"attributes":{},"tag":"h1","children":[{"mimes":{"text/plain":"Example"}}]},{"attributes":{"lang":"jldoctest"},"tag":"codeblock","children":[{"attributes":{},"tag":"CST_DEFINITION","children":[{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{},"tag":"CST_call","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"julia"}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"> "}}]},{"attributes":{},"tag":"CST_span","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"y"}}]},{"attributes":{},"tag":"CST_whitespace","children":[{"mimes":{"text/plain":" "}}]}]}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"= "}}]},{"attributes":{},"tag":"CST_block","children":[{"attributes":{},"tag":"CST_vcat","children":[{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"["}}]},{"attributes":{},"tag":"CST_row","children":[{"attributes":{},"tag":"CST_INTEGER","children":[{"mimes":{"text/plain":"1  "}}]},{"attributes":{},"tag":"CST_INTEGER","children":[{"mimes":{"text/plain":"0  "}}]},{"attributes":{},"tag":"CST_INTEGER","children":[{"mimes":{"text/plain":"0  "}}]},{"attributes":{},"tag":"CST_INTEGER","children":[{"mimes":{"text/plain":"0  "}}]},{"attributes":{},"tag":"CST_INTEGER","children":[{"mimes":{"text/plain":"1\n            "}}]}]},{"attributes":{},"tag":"CST_row","children":[{"attributes":{},"tag":"CST_INTEGER","children":[{"mimes":{"text/plain":"0  "}}]},{"attributes":{},"tag":"CST_INTEGER","children":[{"mimes":{"text/plain":"1  "}}]},{"attributes":{},"tag":"CST_INTEGER","children":[{"mimes":{"text/plain":"0  "}}]},{"attributes":{},"tag":"CST_INTEGER","children":[{"mimes":{"text/plain":"1  "}}]},{"attributes":{},"tag":"CST_INTEGER","children":[{"mimes":{"text/plain":"0\n            "}}]}]},{"attributes":{},"tag":"CST_row","children":[{"attributes":{},"tag":"CST_INTEGER","children":[{"mimes":{"text/plain":"0  "}}]},{"attributes":{},"tag":"CST_INTEGER","children":[{"mimes":{"text/plain":"0  "}}]},{"attributes":{},"tag":"CST_INTEGER","children":[{"mimes":{"text/plain":"1  "}}]},{"attributes":{},"tag":"CST_INTEGER","children":[{"mimes":{"text/plain":"0  "}}]},{"attributes":{},"tag":"CST_INTEGER","children":[{"mimes":{"text/plain":"0"}}]}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"]\n"}}]}]}]}]}]},{"attributes":{},"tag":"CST_DEFINITION","children":[{"attributes":{},"tag":"CST_call","children":[{"attributes":{},"tag":"CST_errortoken","children":[{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"3×"}}]}]},{"attributes":{},"tag":"CST_call","children":[{"attributes":{},"tag":"CST_INTEGER","children":[{"mimes":{"text/plain":"5"}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":" M"}}]},{"attributes":{},"tag":"CST_call","children":[{"attributes":{},"tag":"CST_INTEGER","children":[{"mimes":{"text/plain":"at"}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":""}}]},{"attributes":{},"tag":"CST_curly","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"rix{In"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"t"}}]},{"attributes":{},"tag":"CST_span","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"64}:"}}]},{"attributes":{},"tag":"CST_whitespace","children":[{"mimes":{"text/plain":"\n"}}]}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":" "}}]}]}]}]},{"attributes":{},"tag":"CST_errortoken","children":[{"attributes":{},"tag":"CST_INTEGER","children":[{"mimes":{"text/plain":"1  "}}]},{"attributes":{},"tag":"CST_errortoken","children":[{"attributes":{},"tag":"CST_INTEGER","children":[{"mimes":{"text/plain":"0  "}}]},{"attributes":{},"tag":"CST_errortoken","children":[{"attributes":{},"tag":"CST_INTEGER","children":[{"mimes":{"text/plain":"0  "}}]},{"attributes":{},"tag":"CST_errortoken","children":[{"attributes":{},"tag":"CST_INTEGER","children":[{"mimes":{"text/plain":"0  "}}]},{"attributes":{},"tag":"CST_INTEGER","children":[{"mimes":{"text/plain":"1\n "}}]}]}]}]}]}]}]},{"attributes":{},"tag":"CST_DEFINITION","children":[{"attributes":{},"tag":"CST_errortoken","children":[{"attributes":{},"tag":"CST_INTEGER","children":[{"mimes":{"text/plain":"0  "}}]},{"attributes":{},"tag":"CST_errortoken","children":[{"attributes":{},"tag":"CST_INTEGER","children":[{"mimes":{"text/plain":"1  "}}]},{"attributes":{},"tag":"CST_errortoken","children":[{"attributes":{},"tag":"CST_INTEGER","children":[{"mimes":{"text/plain":"0  "}}]},{"attributes":{},"tag":"CST_errortoken","children":[{"attributes":{},"tag":"CST_INTEGER","children":[{"mimes":{"text/plain":"1  "}}]},{"attributes":{},"tag":"CST_INTEGER","children":[{"mimes":{"text/plain":"0\n "}}]}]}]}]}]}]},{"attributes":{},"tag":"CST_DEFINITION","children":[{"attributes":{},"tag":"CST_errortoken","children":[{"attributes":{},"tag":"CST_INTEGER","children":[{"mimes":{"text/plain":"0  "}}]},{"attributes":{},"tag":"CST_errortoken","children":[{"attributes":{},"tag":"CST_INTEGER","children":[{"mimes":{"text/plain":"0  "}}]},{"attributes":{},"tag":"CST_errortoken","children":[{"attributes":{},"tag":"CST_INTEGER","children":[{"mimes":{"text/plain":"1  "}}]},{"attributes":{},"tag":"CST_errortoken","children":[{"attributes":{},"tag":"CST_INTEGER","children":[{"mimes":{"text/plain":"0  "}}]},{"attributes":{},"tag":"CST_INTEGER","children":[{"mimes":{"text/plain":"0\n\n"}}]}]}]}]}]}]},{"attributes":{},"tag":"CST_DEFINITION","children":[{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{},"tag":"CST_call","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"julia"}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"> "}}]},{"attributes":{},"tag":"CST_span","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"ŷ"}}]},{"attributes":{},"tag":"CST_whitespace","children":[{"mimes":{"text/plain":" "}}]}]}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"= "}}]},{"attributes":{},"tag":"CST_block","children":[{"attributes":{},"tag":"CST_call","children":[{"attributes":{"reftype":"symbol","document_id":"references/Flux.softmax"},"tag":"reference","children":[{"mimes":{"text/plain":"softmax"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"("}}]},{"attributes":{},"tag":"CST_call","children":[{"attributes":{},"tag":"CST_call","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"reshape"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"("}}]},{"attributes":{},"tag":"CST_call","children":[{"attributes":{},"tag":"CST_INTEGER","children":[{"mimes":{"text/plain":"-7"}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":":"}}]},{"attributes":{},"tag":"CST_INTEGER","children":[{"mimes":{"text/plain":"7"}}]}]},{"attributes":{},"tag":"CST_PUNCTUATION","children":[{"mimes":{"text/plain":", "}}]},{"attributes":{},"tag":"CST_INTEGER","children":[{"mimes":{"text/plain":"3"}}]},{"attributes":{},"tag":"CST_PUNCTUATION","children":[{"mimes":{"text/plain":", "}}]},{"attributes":{},"tag":"CST_INTEGER","children":[{"mimes":{"text/plain":"5"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":") "}}]}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":".* "}}]},{"attributes":{},"tag":"CST_FLOAT","children":[{"mimes":{"text/plain":"1f0"}}]}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":")\n"}}]}]}]}]}]},{"attributes":{},"tag":"CST_DEFINITION","children":[{"attributes":{},"tag":"CST_call","children":[{"attributes":{},"tag":"CST_errortoken","children":[{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"3×"}}]}]},{"attributes":{},"tag":"CST_call","children":[{"attributes":{},"tag":"CST_INTEGER","children":[{"mimes":{"text/plain":"5"}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":" M"}}]},{"attributes":{},"tag":"CST_call","children":[{"attributes":{},"tag":"CST_INTEGER","children":[{"mimes":{"text/plain":"at"}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":""}}]},{"attributes":{},"tag":"CST_curly","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"rix{Fl"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"o"}}]},{"attributes":{},"tag":"CST_span","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"at32}:"}}]},{"attributes":{},"tag":"CST_whitespace","children":[{"mimes":{"text/plain":"\n"}}]}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":" "}}]}]}]}]},{"attributes":{},"tag":"CST_errortoken","children":[{"attributes":{},"tag":"CST_FLOAT","children":[{"mimes":{"text/plain":"0.0900306  "}}]},{"attributes":{},"tag":"CST_errortoken","children":[{"attributes":{},"tag":"CST_FLOAT","children":[{"mimes":{"text/plain":"0.0900306  "}}]},{"attributes":{},"tag":"CST_errortoken","children":[{"attributes":{},"tag":"CST_FLOAT","children":[{"mimes":{"text/plain":"0.0900306  "}}]},{"attributes":{},"tag":"CST_errortoken","children":[{"attributes":{},"tag":"CST_FLOAT","children":[{"mimes":{"text/plain":"0.0900306  "}}]},{"attributes":{},"tag":"CST_FLOAT","children":[{"mimes":{"text/plain":"0.0900306\n "}}]}]}]}]}]}]}]},{"attributes":{},"tag":"CST_DEFINITION","children":[{"attributes":{},"tag":"CST_errortoken","children":[{"attributes":{},"tag":"CST_FLOAT","children":[{"mimes":{"text/plain":"0.244728   "}}]},{"attributes":{},"tag":"CST_errortoken","children":[{"attributes":{},"tag":"CST_FLOAT","children":[{"mimes":{"text/plain":"0.244728   "}}]},{"attributes":{},"tag":"CST_errortoken","children":[{"attributes":{},"tag":"CST_FLOAT","children":[{"mimes":{"text/plain":"0.244728   "}}]},{"attributes":{},"tag":"CST_errortoken","children":[{"attributes":{},"tag":"CST_FLOAT","children":[{"mimes":{"text/plain":"0.244728   "}}]},{"attributes":{},"tag":"CST_FLOAT","children":[{"mimes":{"text/plain":"0.244728\n "}}]}]}]}]}]}]},{"attributes":{},"tag":"CST_DEFINITION","children":[{"attributes":{},"tag":"CST_errortoken","children":[{"attributes":{},"tag":"CST_FLOAT","children":[{"mimes":{"text/plain":"0.665241   "}}]},{"attributes":{},"tag":"CST_errortoken","children":[{"attributes":{},"tag":"CST_FLOAT","children":[{"mimes":{"text/plain":"0.665241   "}}]},{"attributes":{},"tag":"CST_errortoken","children":[{"attributes":{},"tag":"CST_FLOAT","children":[{"mimes":{"text/plain":"0.665241   "}}]},{"attributes":{},"tag":"CST_errortoken","children":[{"attributes":{},"tag":"CST_FLOAT","children":[{"mimes":{"text/plain":"0.665241   "}}]},{"attributes":{},"tag":"CST_FLOAT","children":[{"mimes":{"text/plain":"0.665241\n\n"}}]}]}]}]}]}]},{"attributes":{},"tag":"CST_DEFINITION","children":[{"attributes":{},"tag":"CST_comparison","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"julia"}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"> "}}]},{"attributes":{},"tag":"CST_call","children":[{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{"reftype":"symbol","document_id":"references/Flux"},"tag":"reference","children":[{"mimes":{"text/plain":"Flux"}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"."}}]},{"attributes":{},"tag":"CST_quotenode","children":[{"attributes":{"reftype":"symbol","document_id":"references/Flux.Losses.focal_loss"},"tag":"reference","children":[{"mimes":{"text/plain":"focal_loss"}}]}]}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"("}}]},{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"ŷ"}}]},{"attributes":{},"tag":"CST_PUNCTUATION","children":[{"mimes":{"text/plain":", "}}]},{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"y"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":") "}}]}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"≈ "}}]},{"attributes":{},"tag":"CST_FLOAT","children":[{"mimes":{"text/plain":"1.1277571935622628\n"}}]}]}]},{"attributes":{},"tag":"CST_DEFINITION","children":[{"attributes":{},"tag":"CST_TRUE","children":[{"mimes":{"text/plain":"true"}}]}]}]},{"attributes":{},"tag":"p","children":[{"mimes":{"text/plain":"See also: "}},{"attributes":{"reftype":"document","href":"@ref","title":"","document_id":"references/@ref"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"Losses.binary_focal_loss"}}]}]},{"mimes":{"text/plain":" for binary (not one"}},{"mimes":{"text/plain":"-"}},{"mimes":{"text/plain":"hot) labels"}}]}]}]}