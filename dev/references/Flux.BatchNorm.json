{"attributes":{"kind":"struct","backlinks":[{"tag":"sourcefile","title":"FastAI/src/Tabular/Tabular.jl","docid":"sourcefiles/FastAI/src/Tabular/Tabular.jl"},{"tag":"sourcefile","title":"Flux/src/layers/normalise.jl","docid":"sourcefiles/Flux/src/layers/normalise.jl"},{"tag":"sourcefile","title":"Flux/src/Flux.jl","docid":"sourcefiles/Flux/src/Flux.jl"},{"tag":"sourcefile","title":"Flux/src/layers/show.jl","docid":"sourcefiles/Flux/src/layers/show.jl"},{"tag":"sourcefile","title":"Flux/src/outputsize.jl","docid":"sourcefiles/Flux/src/outputsize.jl"},{"tag":"sourcefile","title":"FastAI/src/Vision/models/unet.jl","docid":"sourcefiles/FastAI/src/Vision/models/unet.jl"},{"tag":"document","title":"Tabular Classification","docid":"documents/notebooks/tabularclassification.ipynb"},{"tag":"sourcefile","title":"FastAI/src/Vision/models/xresnet.jl","docid":"sourcefiles/FastAI/src/Vision/models/xresnet.jl"},{"tag":"sourcefile","title":"FastAI/src/Vision/models/blocks.jl","docid":"sourcefiles/FastAI/src/Vision/models/blocks.jl"},{"tag":"sourcefile","title":"FastAI/src/Tabular/models.jl","docid":"sourcefiles/FastAI/src/Tabular/models.jl"},{"tag":"document","title":"Custom learning tasks","docid":"documents/docs/learning_methods.md"},{"tag":"sourcefile","title":"Flux/src/cuda/cudnn.jl","docid":"sourcefiles/Flux/src/cuda/cudnn.jl"}],"methods":[{"line":282,"file":"/home/runner/.julia/packages/Flux/18YZE/src/layers/normalise.jl","method_id":"Flux.BatchNorm_1","symbol_id":"Flux.BatchNorm","signature":"BatchNorm(chs::Int64)"},{"line":269,"file":"/home/runner/.julia/packages/Flux/18YZE/src/layers/normalise.jl","method_id":"Flux.BatchNorm_2","symbol_id":"Flux.BatchNorm","signature":"BatchNorm(λ::F, β::V, γ::V, μ::W, σ²::W, ϵ::N, momentum::N, affine::Bool, track_stats::Bool, active::Union{Nothing, Bool}, chs::Int64)"},{"line":282,"file":"/home/runner/.julia/packages/Flux/18YZE/src/layers/normalise.jl","method_id":"Flux.BatchNorm_3","symbol_id":"Flux.BatchNorm","signature":"BatchNorm(chs::Int64, λ; initβ, initγ, affine, track_stats, ϵ, momentum)"}],"name":"BatchNorm","title":"BatchNorm","symbol_id":"Flux.BatchNorm","public":true,"module_id":"Flux"},"tag":"documentation","children":[{"attributes":{},"tag":"md","children":[{"attributes":{"lang":""},"tag":"codeblock","children":["BatchNorm(channels::Integer, λ=identity;\n          initβ=zeros32, initγ=ones32,\n          affine = true, track_stats = true,\n          ϵ=1f-5, momentum= 0.1f0)\n"],"type":"node"},{"attributes":{},"tag":"p","children":[{"attributes":{"href":"https://arxiv.org/abs/1502.03167","title":""},"tag":"a","children":["Batch Normalization"],"type":"node"}," layer.",{"attributes":{},"tag":"br","children":[],"type":"node"},{"attributes":{},"tag":"code","children":["channels"],"type":"node"}," should be the size of the channel dimension in your data (see below)."],"type":"node"},{"attributes":{},"tag":"p","children":["Given an array with ",{"attributes":{},"tag":"code","children":["N"],"type":"node"}," dimensions, call the ",{"attributes":{},"tag":"code","children":["N-1"],"type":"node"},"th the channel dimension. For",{"attributes":{},"tag":"br","children":[],"type":"node"},"a batch of feature vectors this is just the data dimension, for ",{"attributes":{},"tag":"code","children":["WHCN"],"type":"node"}," images",{"attributes":{},"tag":"br","children":[],"type":"node"},"it’s the usual channel dimension."],"type":"node"},{"attributes":{},"tag":"p","children":[{"attributes":{},"tag":"code","children":["BatchNorm"],"type":"node"}," computes the mean and variance for each ",{"attributes":{},"tag":"code","children":["D_1×...×D_{N-2}×1×D_N"],"type":"node"},{"attributes":{},"tag":"br","children":[],"type":"node"},"input slice and normalises the input accordingly."],"type":"node"},{"attributes":{},"tag":"p","children":["If ",{"attributes":{},"tag":"code","children":["affine=true"],"type":"node"},", it also applies  a shift and a rescale to the input",{"attributes":{},"tag":"br","children":[],"type":"node"},"through to learnable per-channel bias β and scale γ parameters."],"type":"node"},{"attributes":{},"tag":"p","children":["After normalisation, elementwise activation ",{"attributes":{},"tag":"code","children":["λ"],"type":"node"}," is applied."],"type":"node"},{"attributes":{},"tag":"p","children":["If ",{"attributes":{},"tag":"code","children":["track_stats=true"],"type":"node"},", accumulates mean and var statistics in training phase",{"attributes":{},"tag":"br","children":[],"type":"node"},"that will be used to renormalize the input in test phase."],"type":"node"},{"attributes":{},"tag":"p","children":["Use ",{"attributes":{"reftype":"document","href":"@ref","title":"","document_id":"references/@ref"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":["testmode!"],"type":"node"}],"type":"node"}," during inference."],"type":"node"},{"attributes":{},"tag":"h1","children":["Examples"],"type":"node"},{"attributes":{"lang":"julia"},"tag":"codeblock","children":[{"attributes":{},"tag":"julia","children":[{"attributes":{},"tag":"EQ","children":[{"attributes":{},"tag":"IDENTIFIER","children":["m"],"type":"node"},{"attributes":{},"tag":"WHITESPACE","children":[" "],"type":"node"},{"attributes":{},"tag":"EQ","children":["="],"type":"node"},{"attributes":{},"tag":"WHITESPACE","children":[" "],"type":"node"},{"attributes":{},"tag":"CALL","children":[{"attributes":{"reftype":"symbol","document_id":"references/Flux.Chain"},"tag":"reference","children":["Chain"],"type":"node"},{"attributes":{},"tag":"LPAREN","children":["("],"type":"node"},{"attributes":{},"tag":"NEWLINE_WS","children":["\n  "],"type":"node"},{"attributes":{},"tag":"CALL","children":[{"attributes":{"reftype":"symbol","document_id":"references/Flux.Dense"},"tag":"reference","children":["Dense"],"type":"node"},{"attributes":{},"tag":"LPAREN","children":["("],"type":"node"},{"attributes":{},"tag":"CALL","children":[{"attributes":{},"tag":"CALL","children":[{"attributes":{},"tag":"INTEGER","children":["28"],"type":"node"},{"attributes":{},"tag":"CIRCUMFLEX_ACCENT","children":["^"],"type":"node"},{"attributes":{},"tag":"INTEGER","children":["2"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"WHITESPACE","children":[" "],"type":"node"},{"attributes":{},"tag":"PAIR_ARROW","children":["=>"],"type":"node"},{"attributes":{},"tag":"WHITESPACE","children":[" "],"type":"node"},{"attributes":{},"tag":"INTEGER","children":["64"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"RPAREN","children":[")"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"COMMA","children":[","],"type":"node"},{"attributes":{},"tag":"NEWLINE_WS","children":["\n  "],"type":"node"},{"attributes":{},"tag":"CALL","children":[{"attributes":{"reftype":"symbol","document_id":"references/Flux.BatchNorm"},"tag":"reference","children":["BatchNorm"],"type":"node"},{"attributes":{},"tag":"LPAREN","children":["("],"type":"node"},{"attributes":{},"tag":"INTEGER","children":["64"],"type":"node"},{"attributes":{},"tag":"COMMA","children":[","],"type":"node"},{"attributes":{},"tag":"WHITESPACE","children":[" "],"type":"node"},{"attributes":{},"tag":"IDENTIFIER","children":["relu"],"type":"node"},{"attributes":{},"tag":"RPAREN","children":[")"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"COMMA","children":[","],"type":"node"},{"attributes":{},"tag":"NEWLINE_WS","children":["\n  "],"type":"node"},{"attributes":{},"tag":"CALL","children":[{"attributes":{"reftype":"symbol","document_id":"references/Flux.Dense"},"tag":"reference","children":["Dense"],"type":"node"},{"attributes":{},"tag":"LPAREN","children":["("],"type":"node"},{"attributes":{},"tag":"CALL","children":[{"attributes":{},"tag":"INTEGER","children":["64"],"type":"node"},{"attributes":{},"tag":"WHITESPACE","children":[" "],"type":"node"},{"attributes":{},"tag":"PAIR_ARROW","children":["=>"],"type":"node"},{"attributes":{},"tag":"WHITESPACE","children":[" "],"type":"node"},{"attributes":{},"tag":"INTEGER","children":["10"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"RPAREN","children":[")"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"COMMA","children":[","],"type":"node"},{"attributes":{},"tag":"NEWLINE_WS","children":["\n  "],"type":"node"},{"attributes":{},"tag":"CALL","children":[{"attributes":{"reftype":"symbol","document_id":"references/Flux.BatchNorm"},"tag":"reference","children":["BatchNorm"],"type":"node"},{"attributes":{},"tag":"LPAREN","children":["("],"type":"node"},{"attributes":{},"tag":"INTEGER","children":["10"],"type":"node"},{"attributes":{},"tag":"RPAREN","children":[")"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"COMMA","children":[","],"type":"node"},{"attributes":{},"tag":"NEWLINE_WS","children":["\n  "],"type":"node"},{"attributes":{},"tag":"IDENTIFIER","children":["softmax"],"type":"node"},{"attributes":{},"tag":"RPAREN","children":[")"],"type":"node"}],"type":"node"}],"type":"node"}],"type":"node"}],"type":"node"}],"type":"node"}],"type":"node"}