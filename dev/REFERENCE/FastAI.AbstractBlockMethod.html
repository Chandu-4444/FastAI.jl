<HTML><head><title>FastAI.AbstractBlockMethod</title><script src=../template/highlight.min.js ></script><script src=../template/julia.min.js ></script><script src=../template/loadhighlightjs.js ></script><link href=../template/ansi.css rel=stylesheet ></link><link href=../template/hugobook.css rel=stylesheet ></link><meta content=Type=text/html; charset=utf-8 http-equiv=Content-Type ></meta><meta name=viewport content=width=device-width, initial-scale=1 ></meta></head><body><input onclick=toggleMenu() id=menu-control class=hidden toggle type=checkbox ></input><input id=toc-control type=checkbox class=hidden toggle ></input><main class=container flex ><aside id=menu-container class=book-menu ><nav class=book-menu-content ><h2 id=title >FastAI.jl</h2><div id=sidebar ><div class=doctree ><body><ul><li><p><a href=../README.md.html title= >README</a></p></li><li><p><a href=../docs/setup.md.html title= >Setup</a></p></li><li><p><a href=../notebooks/quickstart.ipynb.html title= >Quickstart</a></p></li><li><p>Tutorials</p><ul><li><p>Beginner</p><ul><li><p><a href=../docs/introduction.md.html title= >Introduction</a></p></li><li><p><a href=../docs/discovery.md.html title= >Discovery</a></p></li></ul></li><li><p>Intermediate</p><ul><li><p><a href=../notebooks/imagesegmentation.ipynb.html title= >Image segmentation</a></p></li><li><p><a href=../notebooks/keypointregression.ipynb.html title= >Keypoint regression</a></p></li><li><p><a href=../notebooks/tabularclassification.ipynb.html title= >Tabular classification</a></p></li><li><p><a href=../docs/data_containers.md.html title= >Data containers</a></p></li><li><p><a href=../notebooks/serialization.ipynb.html title= >Saving and loading models</a></p></li></ul></li><li><p>Advanced</p><ul><li><p><a href=../notebooks/presizing.ipynb.html title= >Presizing vision datasets</a></p></li><li><p><a href=../notebooks/vae.ipynb.html title= >Unsupervised learning</a></p></li><li><p><a href=../docs/learning_methods.md.html title= >Custom Learning methods</a></p></li></ul></li></ul></li><li><p>How To</p><ul><li><p><a href=../notebooks/training.ipynb.html title= >Train your model</a></p></li><li><p><a href=../docs/howto/augmentvision.md.html title= >Augment vision data</a></p></li><li><p><a href=../docs/howto/logtensorboard.md.html title= >Log to TensorBoard</a></p></li></ul></li><li><p>Reference</p><ul><li><p><a href=../REFERENCE.html title= >Docstrings</a></p></li><li><p><a href=../docs/fastai_api_comparison.md.html title= >fastai API comparison</a></p></li><li><p><a href=../docs/interfaces.md.html title= >Extension APIs</a></p></li><li><p><a href=../docs/glossary.md.html title= >Glossary</a></p></li></ul></li><li><p>Background</p><ul><li><p><a href=../docs/background/blocksencodings.md.html title= >Blocks and encodings</a></p></li><li><p><a href=../docs/background/datapipelines.md.html title= >Performant data pipelines</a></p></li></ul></li></ul></body></div></div></nav></aside><div class=book-page ><header class=book-header ></header><article><article><h1 id=fastaiabstractblockmethod ><code>FastAI.AbstractBlockMethod</code></h1><div class=docs ><div typesig=Union{} module=FastAI linenumber=3 binding=FastAI.AbstractBlockMethod path=/home/runner/work/FastAI.jl/FastAI.jl/src/datablock/method.jl class=doc ><pre lang= ><code>abstract type AbstractBlockMethod &lt;: LearningMethod
</code></pre><p>Abstract supertype for learning methods that derive their
functionality from <a href=FastAI.Block.html ><code>FastAI.Block</code></a>s and <a href=FastAI.Encoding.html ><code>FastAI.Encoding</code></a>s.</p><p>These learning methods require you only to specify blocks and
encodings by defining which blocks of data show up at which
stage of the pipeline. Generally, a subtype will have a field
<code>blocks</code> of type <code>NamedTuple</code> that contains this information
and a field <code>encodings</code> of encodings that are applied to samples.
They can be accessed with <code>getblocks</code> and <code>getencodings</code>
respectively. For example, <a href=FastAI.SupervisedMethod.html ><code>SupervisedMethod</code></a> represents a
learning task where each sample consists of an input and a target.</p><div class=cellcontainer cell=main lang=julia ><pre class=codecell cell=main lang=julia ><code>method = SupervisedMethod(
    (Image{2}(), Label([&quot;cat&quot;, &quot;dog&quot;])),
    (ImagePreprocessing(), OneHot(),)
)
getblocks(method)
</code></pre><pre class=coderesult ><code>LoadError("string", 1, UndefVarError(:Image))</code></pre></div><p>To implement a new <code>AbstractBlockMethod</code> either</p><ul><li><p>use the helper <a href=FastAI.BlockMethod.html ><code>BlockMethod</code></a> (simpler)</p></li><li><p>or subtype <a href=FastAI.AbstractBlockMethod.html ><code>FastAI.AbstractBlockMethod</code></a> (allows customization through
dispatch)</p></li></ul><h2 id=blocks-and-interfaces >Blocks and interfaces</h2><p>To support different learning method interfaces, a <code>AbstractBlockMethod</code>’s
blocks need to contain different blocks. Below we list first block names
with descriptions, and afterwards relevant interface functions and which
blocks are required to use them.</p><h3 id=blocks >Blocks</h3><p>Each name corresponds to a key of the named tuple
<code>blocks = getblocks(method)</code>). A block is referred to with <code>blocks.$name</code>
and an instance of data from a block is referred to as <code>$name</code>.</p><ul><li><p><code>blocks.sample</code>: The most important block, representing one full
observation of unprocessed data. Data containers used with a learning
method should have compatible observations, i.e.
<code>checkblock(blocks.sample, getobs(data, i))</code>.</p></li><li><p><code>blocks.x</code>: Data that will be fed into the model, i.e. (neglecting batching)
<code>model(x)</code> should work</p></li><li><p><code>blocks.ŷ</code>: Data that is output by the model, i.e. (neglecting batching)
<code>checkblock(blocks.ŷ, model(x))</code></p></li><li><p><code>blocks.y</code>: Data that is compared to the model output using a loss function,
i.e. <code>lossfn(ŷ, y)</code></p></li><li><p><code>blocks.encodedsample</code>: An encoded version of <code>blocks.sample</code>. Will usually
correspond to <code>encodedblockfilled(getencodings(method), blocks.sample)</code>.</p></li></ul><h3 id=interfacesfunctionality-and-required-blocks >Interfaces/functionality and required blocks:</h3><p>Core:</p><ul><li><p><a href=DLPipelines.encode.html ><code>encode</code></a><code>(method, ctx, sample)</code> requires <code>sample</code>. Also enables use of
<a href=FastAI.methoddataset.html ><code>methoddataset</code></a>, <a href=DLPipelines.methoddataloaders.html ><code>DLPipelines.methoddataloaders</code></a></p></li><li><p><a href=FastAI.decode.html ><code>decode</code></a><code>(method, ctx, encodedsample)</code> requires <code>encodedsample</code></p></li><li><p><a href=# title= ><code>decodeŷ</code></a><code>(method, ctx, ŷ)</code> requires <code>ŷ</code></p></li><li><p><a href=DLPipelines.decodey.html ><code>DLPipelines.decodey</code></a><code>(method, ctx, y)</code> requires <code>y</code></p></li></ul><p>Training:</p><ul><li><p><a href=DLPipelines.methodmodel.html ><code>DLPipelines.methodmodel</code></a><code>(method)</code> requires <code>x</code>, <code>ŷ</code></p></li><li><p><a href=DLPipelines.methodlossfn.html ><code>DLPipelines.methodlossfn</code></a><code>(method)</code> requires <code>y</code>, <code>ŷ</code></p></li></ul><p>Visualization:</p><ul><li><p><a href=FastAI.showsample.html ><code>showsample</code></a>, <a href=FastAI.showsamples.html ><code>showsamples</code></a> require <code>sample</code></p></li><li><p><a href=FastAI.showencodedsample.html ><code>showencodedsample</code></a>, <a href=FastAI.showencodedsamples.html ><code>showencodedsamples</code></a>, <a href=FastAI.showbatch.html ><code>showbatch</code></a>
require <code>encodedsample</code></p></li><li><p><a href=FastAI.showsample.html ><code>showsample</code></a>, <a href=FastAI.showsamples.html ><code>showsamples</code></a> require <code>sample</code></p></li><li><p><a href=FastAI.showoutput.html ><code>showoutput</code></a>, <a href=FastAI.showoutputs.html ><code>showoutputs</code></a>, <a href=FastAI.showoutputbatch.html ><code>showoutputbatch</code></a> require
<code>ŷ</code>, <code>encodedsample</code></p></li></ul><p>Testing:</p><ul><li><p><a href=DLPipelines.mockmodel.html ><code>DLPipelines.mockmodel</code></a><code>(method)</code> requires <code>x</code>, <code>ŷ</code></p></li><li><p><a href=DLPipelines.mocksample.html ><code>DLPipelines.mocksample</code></a><code>(method)</code> requires <code>sample</code></p></li></ul></div></div></article></article><footer class=book-footer ></footer></div><aside class=book-toc ><nav id=toc class=book-toc-content ><ul><li><a href=#fastaiabstractblockmethod >FastAI.AbstractBlockMethod</a><ul></ul></li></ul></nav></aside></main></body></HTML>