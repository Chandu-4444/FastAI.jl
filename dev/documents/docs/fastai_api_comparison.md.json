{"attributes":{"backlinks":[{"tag":"document","title":"toc","docid":"documents/toc.md"}],"path":"/home/runner/.julia/packages/FastAI/AovdF/docs/fastai_api_comparison.md","title":"fastai API comparison"},"tag":"document","children":[{"attributes":{},"tag":"h1","children":[{"mimes":{"text/plain":"fastai API comparison"}}]},{"attributes":{},"tag":"p","children":[{"mimes":{"text/plain":"FastAI"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":"jl is in many ways similar to the original Python "}},{"attributes":{"reftype":"document","href":"docs.fast.ai","title":"","document_id":"documents/docs/docs.fast.ai"},"tag":"reference","children":[{"mimes":{"text/plain":"fastai"}}]},{"mimes":{"text/plain":", but also has its differences"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" This reference goes through all the sections in the "}},{"attributes":{"href":"https://arxiv.org/abs/2002.04688","title":""},"tag":"a","children":[{"mimes":{"text/plain":"fastai: A Layered API for Deep Learning"}}]},{"mimes":{"text/plain":" paper and comments what the interfaces for the same functionality in FastAI"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":"jl are, and where they differ or functionality is still missing"}},{"mimes":{"text/plain":"."}}]},{"attributes":{},"tag":"h2","children":[{"mimes":{"text/plain":"Applications"}}]},{"attributes":{},"tag":"p","children":[{"mimes":{"text/plain":"FastAI"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":"jl"}},{"mimes":{"text/plain":"’"}},{"mimes":{"text/plain":"s own data block API makes it possible to derive every part of a high"}},{"mimes":{"text/plain":"-"}},{"mimes":{"text/plain":"level interface with a unified API across tasks"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" Instead it suffices to create a learning task and based on the blocks and encodings specified the proper model builder, loss function, and visualizations are implemented (see below)"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" For a high"}},{"mimes":{"text/plain":"-"}},{"mimes":{"text/plain":"level API, a complete "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"Learner"}}]},{"mimes":{"text/plain":" can be constructed using "}},{"attributes":{"reftype":"symbol","document_id":"references/FastAI.tasklearner"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"tasklearner"}}]}]},{"mimes":{"text/plain":" without much boilerplate"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" There are some helper functions for  creating these learning tasks, for example "}},{"attributes":{"reftype":"symbol","document_id":"references/FastAI.ImageClassificationSingle"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"ImageClassificationSingle"}}]}]},{"mimes":{"text/plain":" and "}},{"attributes":{"reftype":"symbol","document_id":"references/FastAI.ImageSegmentation"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"ImageSegmentation"}}]}]},{"mimes":{"text/plain":"."}}]},{"attributes":{},"tag":"p","children":[{"mimes":{"text/plain":"FastAI"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":"jl additionally has a unified API for registering and discovering functionality across applications also based on the data block abstraction"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":"  "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"finddatasets"}}]},{"mimes":{"text/plain":" and "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"loaddataset"}}]},{"mimes":{"text/plain":" let you quickly load common datasets matching some data modality and "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"findlearningtask"}}]},{"mimes":{"text/plain":" lets you find learning task helpers for common tasks"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" See "}},{"attributes":{"reftype":"document","href":"discovery.md","title":"","document_id":"documents/docs/discovery.md"},"tag":"reference","children":[{"mimes":{"text/plain":"the discovery tutorial"}}]},{"mimes":{"text/plain":" for more info"}},{"mimes":{"text/plain":"."}}]},{"attributes":{},"tag":"h3","children":[{"mimes":{"text/plain":"Vision"}}]},{"attributes":{},"tag":"p","children":[{"mimes":{"text/plain":"Computer vision is the most developed part of FastAI"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":"jl with good support for different tasks and optimized data pipelines with N"}},{"mimes":{"text/plain":"-"}},{"mimes":{"text/plain":"dimensional images, masks and keypoints"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" See the tutorial section for many examples"}},{"mimes":{"text/plain":"."}}]},{"attributes":{},"tag":"h3","children":[{"mimes":{"text/plain":"Tabular"}}]},{"attributes":{},"tag":"p","children":[{"mimes":{"text/plain":"Support for tabular data is merged into master but is lacking documentation which will come with the next release (0"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":"2"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":"0)"}},{"mimes":{"text/plain":"."}}]},{"attributes":{},"tag":"h3","children":[{"mimes":{"text/plain":"Deployment"}}]},{"attributes":{},"tag":"p","children":[{"mimes":{"text/plain":"Through FastAI"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":"jl"}},{"mimes":{"text/plain":"’"}},{"mimes":{"text/plain":"s "}},{"attributes":{"reftype":"document","href":"./learning_tasks.md","title":"","document_id":"documents/docs/learning_tasks.md"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"LearningTask"}}]},{"mimes":{"text/plain":" interface"}}]},{"mimes":{"text/plain":", the data processing logic is decoupled from the dataset creation and training and can be easily serialized and loaded to make predictions"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" See the tutorial on "}},{"attributes":{"reftype":"document","href":"../notebooks/serialization.ipynb","title":"","document_id":"documents/notebooks/serialization.ipynb"},"tag":"reference","children":[{"mimes":{"text/plain":"saving and loading models"}}]},{"mimes":{"text/plain":"."}}]},{"attributes":{},"tag":"hr","children":[]},{"attributes":{},"tag":"p","children":[{"mimes":{"text/plain":"There is no integration (yet"}},{"mimes":{"text/plain":"!"}},{"mimes":{"text/plain":") for text and collaborative filtering applications"}},{"mimes":{"text/plain":"."}}]},{"attributes":{},"tag":"h2","children":[{"mimes":{"text/plain":"High"}},{"mimes":{"text/plain":"-"}},{"mimes":{"text/plain":"level API"}}]},{"attributes":{},"tag":"h3","children":[{"mimes":{"text/plain":"High"}},{"mimes":{"text/plain":"-"}},{"mimes":{"text/plain":"level API foundations"}}]},{"attributes":{},"tag":"p","children":[{"mimes":{"text/plain":"FastAI"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":"jl also has a data block API but it differs from fastai"}},{"mimes":{"text/plain":"’"}},{"mimes":{"text/plain":"s in a number of ways"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" In the Julia package it only handles the data encoding and decoding part, and doesn"}},{"mimes":{"text/plain":"’"}},{"mimes":{"text/plain":"t concern itself with creating datasets"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" For dataset loading, see the "}},{"attributes":{"reftype":"document","href":"data_containers.md","title":"","document_id":"documents/docs/data_containers.md"},"tag":"reference","children":[{"mimes":{"text/plain":"data container API"}}]},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" As mentioned above, the high"}},{"mimes":{"text/plain":"-"}},{"mimes":{"text/plain":"level application"}},{"mimes":{"text/plain":"-"}},{"mimes":{"text/plain":"specific logic is also derived from the data block API"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" To use it you need to specify a tuple of input and target blocks as well as a tuple of encodings that are applied to the data"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" The encodings  are invertible data"}},{"mimes":{"text/plain":"-"}},{"mimes":{"text/plain":"specific data processing steps which correspond to "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"fastai.Transform"}}]},{"mimes":{"text/plain":"s"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" As in fastai, dispatch is used to transform applicable data and pass other data through unchanged"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" Unlike in fastai, there are no default steps associated with a block, allowing greater flexibility"}},{"mimes":{"text/plain":"."}}]},{"attributes":{},"tag":"p","children":[{"mimes":{"text/plain":"We can create a "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"BlockTask"}}]},{"mimes":{"text/plain":" (similar to "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"fastai.DataBlock"}}]},{"mimes":{"text/plain":") and get information about the representations the data goes through"}},{"mimes":{"text/plain":"."}}]},{"attributes":{"class":"cellcontainer","cell":"main","lang":"julia"},"tag":"div","children":[{"attributes":{"class":"codecell","cell":"main","lang":"julia"},"tag":"codeblock","children":[{"attributes":{},"tag":"CST_DEFINITION","children":[{"attributes":{},"tag":"CST_using","children":[{"attributes":{},"tag":"CST_span","children":[{"attributes":{},"tag":"CST_KEYWORD","children":[{"mimes":{"text/plain":"using"}}]},{"attributes":{},"tag":"CST_whitespace","children":[{"mimes":{"text/plain":" "}}]}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{},"tag":"CST_span","children":[{"attributes":{"reftype":"symbol","document_id":"references/FastAI"},"tag":"reference","children":[{"mimes":{"text/plain":"FastAI"}}]},{"attributes":{},"tag":"CST_whitespace","children":[{"mimes":{"text/plain":"\n"}}]}]}]}]}]},{"attributes":{},"tag":"CST_DEFINITION","children":[{"attributes":{},"tag":"CST_import","children":[{"attributes":{},"tag":"CST_span","children":[{"attributes":{},"tag":"CST_KEYWORD","children":[{"mimes":{"text/plain":"import"}}]},{"attributes":{},"tag":"CST_whitespace","children":[{"mimes":{"text/plain":" "}}]}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{"reftype":"symbol","document_id":"references/FastAI"},"tag":"reference","children":[{"mimes":{"text/plain":"FastAI"}}]}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":": "}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{},"tag":"CST_span","children":[{"attributes":{"reftype":"symbol","document_id":"references/DataAugmentation.Image"},"tag":"reference","children":[{"mimes":{"text/plain":"Image"}}]},{"attributes":{},"tag":"CST_whitespace","children":[{"mimes":{"text/plain":"\n\n"}}]}]}]}]}]}]},{"attributes":{},"tag":"CST_DEFINITION","children":[{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{},"tag":"CST_span","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"task"}}]},{"attributes":{},"tag":"CST_whitespace","children":[{"mimes":{"text/plain":" "}}]}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"= "}}]},{"attributes":{},"tag":"CST_call","children":[{"attributes":{"reftype":"symbol","document_id":"references/FastAI.BlockTask"},"tag":"reference","children":[{"mimes":{"text/plain":"BlockTask"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"(\n    "}}]},{"attributes":{},"tag":"CST_tuple","children":[{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"("}}]},{"attributes":{},"tag":"CST_call","children":[{"attributes":{},"tag":"CST_curly","children":[{"attributes":{"reftype":"symbol","document_id":"references/DataAugmentation.Image"},"tag":"reference","children":[{"mimes":{"text/plain":"Image"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"{"}}]},{"attributes":{},"tag":"CST_INTEGER","children":[{"mimes":{"text/plain":"2"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"}"}}]}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"("}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":")"}}]}]},{"attributes":{},"tag":"CST_PUNCTUATION","children":[{"mimes":{"text/plain":", "}}]},{"attributes":{},"tag":"CST_call","children":[{"attributes":{},"tag":"CST_curly","children":[{"attributes":{"reftype":"symbol","document_id":"references/FastAI.Mask"},"tag":"reference","children":[{"mimes":{"text/plain":"Mask"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"{"}}]},{"attributes":{},"tag":"CST_INTEGER","children":[{"mimes":{"text/plain":"2"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"}"}}]}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"("}}]},{"attributes":{},"tag":"CST_vect","children":[{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"["}}]},{"attributes":{},"tag":"CST_STRING","children":[{"mimes":{"text/plain":"\"foreground\""}}]},{"attributes":{},"tag":"CST_PUNCTUATION","children":[{"mimes":{"text/plain":", "}}]},{"attributes":{},"tag":"CST_STRING","children":[{"mimes":{"text/plain":"\"background\""}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"]"}}]}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":")"}}]}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":")"}}]}]},{"attributes":{},"tag":"CST_PUNCTUATION","children":[{"mimes":{"text/plain":",\n    "}}]},{"attributes":{},"tag":"CST_tuple","children":[{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"(\n        "}}]},{"attributes":{},"tag":"CST_call","children":[{"attributes":{"reftype":"symbol","document_id":"references/FastAI.ProjectiveTransforms"},"tag":"reference","children":[{"mimes":{"text/plain":"ProjectiveTransforms"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"("}}]},{"attributes":{},"tag":"CST_tuple","children":[{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"("}}]},{"attributes":{},"tag":"CST_INTEGER","children":[{"mimes":{"text/plain":"128"}}]},{"attributes":{},"tag":"CST_PUNCTUATION","children":[{"mimes":{"text/plain":", "}}]},{"attributes":{},"tag":"CST_INTEGER","children":[{"mimes":{"text/plain":"128"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":")"}}]}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":")"}}]}]},{"attributes":{},"tag":"CST_PUNCTUATION","children":[{"mimes":{"text/plain":",\n        "}}]},{"attributes":{},"tag":"CST_call","children":[{"attributes":{"reftype":"symbol","document_id":"references/FastAI.ImagePreprocessing"},"tag":"reference","children":[{"mimes":{"text/plain":"ImagePreprocessing"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"("}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":")"}}]}]},{"attributes":{},"tag":"CST_PUNCTUATION","children":[{"mimes":{"text/plain":",\n        "}}]},{"attributes":{},"tag":"CST_call","children":[{"attributes":{"reftype":"symbol","document_id":"references/DataAugmentation.OneHot"},"tag":"reference","children":[{"mimes":{"text/plain":"OneHot"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"("}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":")"}}]}]},{"attributes":{},"tag":"CST_PUNCTUATION","children":[{"mimes":{"text/plain":",\n    "}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":")\n"}}]}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":")\n"}}]}]}]}]},{"attributes":{},"tag":"CST_DEFINITION","children":[{"attributes":{},"tag":"CST_call","children":[{"attributes":{"reftype":"symbol","document_id":"references/FastAI.describetask"},"tag":"reference","children":[{"mimes":{"text/plain":"describetask"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"("}}]},{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"task"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":")"}}]}]}]}]},{"mimes":{"text/plain":""}},{"attributes":{"class":"coderesult"},"tag":"div","children":[{"mimes":{"text/plain":"  \u001b[1m\u001b[36mSupervisedTask\u001b[39m summary\u001b[22m\n\n  Learning task for the supervised task with input \u001b[36mImage{2}\u001b[39m and target \u001b[36mMask{2,\n  String}\u001b[39m. Compatible with \u001b[36mmodel\u001b[39ms that take in \u001b[36mBounded{2,\n  FastAI.Vision.ImageTensor{2}}\u001b[39m and output \u001b[36mBounded{2, FastAI.OneHotTensor{2,\n  String}}\u001b[39m.\n\n  Encoding a sample (\u001b[36mencodesample(task, context, sample)\u001b[39m) is done through the\n  following encodings:\n\n              Encoding            Name                             \u001b[36mblocks.input\u001b[39m                              \u001b[36mblocks.target\u001b[39m\n  –––––––––––––––––––– ––––––––––––––– –––––––––––––––––––––––––––––––––––––––– ––––––––––––––––––––––––––––––––––––––––––\n                       \u001b[36m(input, target)\u001b[39m                                 \u001b[36mImage{2}\u001b[39m                            \u001b[36mMask{2, String}\u001b[39m\n  \u001b[36mProjectiveTransforms\u001b[39m                                     \u001b[1m\u001b[36mBounded{2, Image{2}}\u001b[39m\u001b[22m                \u001b[1m\u001b[36mBounded{2, Mask{2, String}}\u001b[39m\u001b[22m\n    \u001b[36mImagePreprocessing\u001b[39m                 \u001b[1m\u001b[36mBounded{2, FastAI.Vision.ImageTensor{2}}\u001b[39m\u001b[22m                                           \n                \u001b[36mOneHot\u001b[39m          \u001b[36m(x, y)\u001b[39m                                          \u001b[1m\u001b[36mBounded{2, FastAI.OneHotTensor{2, String}}\u001b[39m\u001b[22m","text/markdown":"**`SupervisedTask` summary**\n\nLearning task for the supervised task with input `Image{2}` and target `Mask{2, String}`. Compatible with `model`s that take in `Bounded{2, FastAI.Vision.ImageTensor{2}}` and output `Bounded{2, FastAI.OneHotTensor{2, String}}`.\n\nEncoding a sample (`encodesample(task, context, sample)`) is done through the following encodings:\n\n|               Encoding |              Name |                                 `blocks.input` |                                  `blocks.target` |\n| ----------------------:| -----------------:| ----------------------------------------------:| ------------------------------------------------:|\n|                        | `(input, target)` |                                     `Image{2}` |                                `Mask{2, String}` |\n| `ProjectiveTransforms` |                   |                     **`Bounded{2, Image{2}}`** |                **`Bounded{2, Mask{2, String}}`** |\n|   `ImagePreprocessing` |                   | **`Bounded{2, FastAI.Vision.ImageTensor{2}}`** |                                                  |\n|               `OneHot` |          `(x, y)` |                                                | **`Bounded{2, FastAI.OneHotTensor{2, String}}`** |\n","text/latex":"\\textbf{\\texttt{SupervisedTask} summary}\n\nLearning task for the supervised task with input \\texttt{Image\\{2\\}} and target \\texttt{Mask\\{2, String\\}}. Compatible with \\texttt{model}s that take in \\texttt{Bounded\\{2, FastAI.Vision.ImageTensor\\{2\\}\\}} and output \\texttt{Bounded\\{2, FastAI.OneHotTensor\\{2, String\\}\\}}.\n\nEncoding a sample (\\texttt{encodesample(task, context, sample)}) is done through the following encodings:\n\n\\begin{tabular}\n{r | r | r | r}\nEncoding & Name & \\texttt{blocks.input} & \\texttt{blocks.target} \\\\\n\\hline\n & \\texttt{(input, target)} & \\texttt{Image\\{2\\}} & \\texttt{Mask\\{2, String\\}} \\\\\n\\texttt{ProjectiveTransforms} &  & \\textbf{\\texttt{Bounded\\{2, Image\\{2\\}\\}}} & \\textbf{\\texttt{Bounded\\{2, Mask\\{2, String\\}\\}}} \\\\\n\\texttt{ImagePreprocessing} &  & \\textbf{\\texttt{Bounded\\{2, FastAI.Vision.ImageTensor\\{2\\}\\}}} &  \\\\\n\\texttt{OneHot} & \\texttt{(x, y)} &  & \\textbf{\\texttt{Bounded\\{2, FastAI.OneHotTensor\\{2, String\\}\\}}} \\\\\n\\end{tabular}\n"}}]}]},{"attributes":{},"tag":"p","children":[{"mimes":{"text/plain":"From this short definition, many things can be derived:"}}]},{"attributes":{},"tag":"ul","children":[{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"mimes":{"text/plain":"data encoding"}}]}]},{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"mimes":{"text/plain":"model output decoding"}}]}]},{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"mimes":{"text/plain":"how to create a model from a backbone"}}]}]},{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"mimes":{"text/plain":"the loss function to use"}}]}]},{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"mimes":{"text/plain":"how to visualize samples and predictions"}}]}]}]},{"attributes":{},"tag":"p","children":[{"mimes":{"text/plain":"Together with a "}},{"attributes":{"reftype":"document","href":"data_container","title":"","document_id":"documents/docs/data_container"},"tag":"reference","children":[{"mimes":{"text/plain":"data container"}}]},{"mimes":{"text/plain":" "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"data"}}]},{"mimes":{"text/plain":", we can quickly create a "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"Learner"}}]},{"mimes":{"text/plain":" using "}},{"attributes":{"reftype":"symbol","document_id":"references/FastAI.tasklearner"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"tasklearner"}}]}]},{"mimes":{"text/plain":" which, like in fastai, handles the training for us"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" There are no application"}},{"mimes":{"text/plain":"-"}},{"mimes":{"text/plain":"specific "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"Learner"}}]},{"mimes":{"text/plain":" constructors like "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"cnn_learner"}}]},{"mimes":{"text/plain":" or "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"unet_learner"}}]},{"mimes":{"text/plain":" in FastAI"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":"jl"}},{"mimes":{"text/plain":"."}}]},{"attributes":{"lang":"julia"},"tag":"codeblock","children":[{"attributes":{},"tag":"CST_DEFINITION","children":[{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{},"tag":"CST_span","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"learner"}}]},{"attributes":{},"tag":"CST_whitespace","children":[{"mimes":{"text/plain":" "}}]}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"= "}}]},{"attributes":{},"tag":"CST_call","children":[{"attributes":{"reftype":"symbol","document_id":"references/FastAI.tasklearner"},"tag":"reference","children":[{"mimes":{"text/plain":"tasklearner"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"("}}]},{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"task"}}]},{"attributes":{},"tag":"CST_PUNCTUATION","children":[{"mimes":{"text/plain":", "}}]},{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"data"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":")"}}]}]}]}]}]},{"attributes":{},"tag":"p","children":[{"mimes":{"text/plain":"High"}},{"mimes":{"text/plain":"-"}},{"mimes":{"text/plain":"level training protocols like the "}},{"attributes":{"reftype":"document","href":"../notebooks/fitonecycle.ipynb","title":"","document_id":"documents/notebooks/fitonecycle.ipynb"},"tag":"reference","children":[{"mimes":{"text/plain":"one"}},{"mimes":{"text/plain":"-"}},{"mimes":{"text/plain":"cycle learning rate schedule"}}]},{"mimes":{"text/plain":", "}},{"attributes":{"reftype":"document","href":"../notebooks/finetune.ipynb","title":"","document_id":"documents/notebooks/finetune.ipynb"},"tag":"reference","children":[{"mimes":{"text/plain":"fine"}},{"mimes":{"text/plain":"-"}},{"mimes":{"text/plain":"tuning"}}]},{"mimes":{"text/plain":" and the "}},{"attributes":{"reftype":"document","href":"../notebooks/lrfind.ipynb","title":"","document_id":"documents/notebooks/lrfind.ipynb"},"tag":"reference","children":[{"mimes":{"text/plain":"learning rate finder"}}]},{"mimes":{"text/plain":" are then available to us:"}}]},{"attributes":{"lang":"julia"},"tag":"codeblock","children":[{"attributes":{},"tag":"CST_DEFINITION","children":[{"attributes":{},"tag":"CST_call","children":[{"attributes":{"reftype":"symbol","document_id":"references/FluxTraining.fit!"},"tag":"reference","children":[{"mimes":{"text/plain":"fit!"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"("}}]},{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"learner"}}]},{"attributes":{},"tag":"CST_PUNCTUATION","children":[{"mimes":{"text/plain":", "}}]},{"attributes":{},"tag":"CST_INTEGER","children":[{"mimes":{"text/plain":"10"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":")                  # Basic training for 10 epochs\n"}}]}]}]},{"attributes":{},"tag":"CST_DEFINITION","children":[{"attributes":{},"tag":"CST_call","children":[{"attributes":{"reftype":"symbol","document_id":"references/FastAI.finetune!"},"tag":"reference","children":[{"mimes":{"text/plain":"finetune!"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"("}}]},{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"learner"}}]},{"attributes":{},"tag":"CST_PUNCTUATION","children":[{"mimes":{"text/plain":", "}}]},{"attributes":{},"tag":"CST_INTEGER","children":[{"mimes":{"text/plain":"5"}}]},{"attributes":{},"tag":"CST_PUNCTUATION","children":[{"mimes":{"text/plain":", "}}]},{"attributes":{},"tag":"CST_FLOAT","children":[{"mimes":{"text/plain":"1e-3"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":")        # Finetuning regimen for 1+5 epochs with lr=1e-3\n"}}]}]}]},{"attributes":{},"tag":"CST_DEFINITION","children":[{"attributes":{},"tag":"CST_call","children":[{"attributes":{"reftype":"symbol","document_id":"references/FastAI.fitonecycle!"},"tag":"reference","children":[{"mimes":{"text/plain":"fitonecycle!"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"("}}]},{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"learner"}}]},{"attributes":{},"tag":"CST_PUNCTUATION","children":[{"mimes":{"text/plain":", "}}]},{"attributes":{},"tag":"CST_INTEGER","children":[{"mimes":{"text/plain":"10"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":")          # One-cycle learning rate regimen\n"}}]}]}]},{"attributes":{},"tag":"CST_DEFINITION","children":[{"attributes":{},"tag":"CST_toplevel","children":[{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{},"tag":"CST_span","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"res"}}]},{"attributes":{},"tag":"CST_whitespace","children":[{"mimes":{"text/plain":" "}}]}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"= "}}]},{"attributes":{},"tag":"CST_call","children":[{"attributes":{"reftype":"symbol","document_id":"references/FastAI.lrfind"},"tag":"reference","children":[{"mimes":{"text/plain":"lrfind"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"("}}]},{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"learner"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"); "}}]}]}]},{"attributes":{},"tag":"CST_call","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"plot"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"("}}]},{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"res"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":")   # Run learning rate finder and plot suggestions"}}]}]}]}]}]},{"attributes":{},"tag":"h3","children":[{"mimes":{"text/plain":"Incrementally adapting PyTorch code"}}]},{"attributes":{},"tag":"p","children":[{"mimes":{"text/plain":"Since it is a Julia package, FastAI"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":"jl is not written on top of PyTorch, but a Julia library for deep learning: "}},{"attributes":{"href":"http://www.fluxml.ai","title":""},"tag":"a","children":[{"mimes":{"text/plain":"Flux"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":"jl"}}]},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" In any case, the point of this section is to note that the abstractions in fastai are decoupled and existing projects can easily be reused"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" This is also the case for FastAI"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":"jl as it is built on top of several decoupled libraries"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" Many of these were built specifically for FastAI"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":"jl, but they are unaware of each other and useful in their own right:"}}]},{"attributes":{},"tag":"ul","children":[{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"attributes":{"href":"https://github.com/FluxML/Flux.jl","title":""},"tag":"a","children":[{"mimes":{"text/plain":"Flux"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":"jl"}}]},{"mimes":{"text/plain":" provides models, optimizers, and loss functions, fulfilling a similar role to PyTorch"}}]}]},{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"attributes":{"href":"https://github.com/JuliaML/MLDataPattern.jl","title":""},"tag":"a","children":[{"mimes":{"text/plain":"MLDataPattern"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":"jl"}}]},{"mimes":{"text/plain":" gives you tools for building and transforming data containers"}}]}]},{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"attributes":{"href":"https://github.com/lorenzoh/DataLoaders.jl","title":""},"tag":"a","children":[{"mimes":{"text/plain":"DataLoaders"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":"jl"}}]},{"mimes":{"text/plain":" takes care of efficient, parallelized iteration of data containers"}}]}]},{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"attributes":{"href":"https://github.com/lorenzoh/DataAugmentation.jl","title":""},"tag":"a","children":[{"mimes":{"text/plain":"DataAugmentation"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":"jl"}}]},{"mimes":{"text/plain":" takes care of the lower levels of high"}},{"mimes":{"text/plain":"-"}},{"mimes":{"text/plain":"performance, composable data augmentations"}},{"mimes":{"text/plain":"."}}]}]},{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"attributes":{"href":"https://github.com/lorenzoh/FluxTraining.jl","title":""},"tag":"a","children":[{"mimes":{"text/plain":"FluxTraining"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":"jl"}}]},{"mimes":{"text/plain":" contributes a highly extensible training loop with 2"}},{"mimes":{"text/plain":"-"}},{"mimes":{"text/plain":"way callbacks"}}]}]}]},{"attributes":{},"tag":"p","children":[{"mimes":{"text/plain":"If that seems like a lot: don"}},{"mimes":{"text/plain":"’"}},{"mimes":{"text/plain":"t worry"}},{"mimes":{"text/plain":"!"}},{"mimes":{"text/plain":" If you"}},{"mimes":{"text/plain":"’"}},{"mimes":{"text/plain":"ve installed FastAI"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":"jl, the functionality of most of these packages is reexported and you don"}},{"mimes":{"text/plain":"’"}},{"mimes":{"text/plain":"t have to install any of them explicitly"}},{"mimes":{"text/plain":"."}}]},{"attributes":{},"tag":"h3","children":[{"mimes":{"text/plain":"Consistency across domains"}}]},{"attributes":{},"tag":"p","children":[{"mimes":{"text/plain":"While computer vision is the only domain with mature support for now, the abstractions underlying FastAI"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":"jl are carefully crafted to ensure that learning tasks for different domains can be created using the same set of interfaces"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" This shows in that there"}},{"mimes":{"text/plain":"’"}},{"mimes":{"text/plain":"s no need for application"}},{"mimes":{"text/plain":"-"}},{"mimes":{"text/plain":"specific functionality above the data block API"}},{"mimes":{"text/plain":"."}}]},{"attributes":{},"tag":"h2","children":[{"mimes":{"text/plain":"Mid"}},{"mimes":{"text/plain":"-"}},{"mimes":{"text/plain":"level APIs"}}]},{"attributes":{},"tag":"h3","children":[{"mimes":{"text/plain":"Learner"}}]},{"attributes":{},"tag":"p","children":[{"mimes":{"text/plain":"The "}},{"attributes":{"reftype":"symbol","document_id":"references/FluxTraining.Learner"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"Learner"}}]}]},{"mimes":{"text/plain":" is very similar to fastai"}},{"mimes":{"text/plain":"’"}},{"mimes":{"text/plain":"s"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" It takes"}}]},{"attributes":{},"tag":"ul","children":[{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"mimes":{"text/plain":"a model: any parameterized, differentiable function like a neural network or even "}},{"attributes":{"href":"https://fluxml.ai/blog/2019/03/05/dp-vs-rl.html","title":""},"tag":"a","children":[{"mimes":{"text/plain":"a trebuchet simulator"}}]}]}]},{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"mimes":{"text/plain":"training and validation data iterators: these can be "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"DataLoader"}}]},{"mimes":{"text/plain":"s which paralellize data loading but any iterator over batches can be used"}}]}]},{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"mimes":{"text/plain":"optimizer"}}]}]},{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"mimes":{"text/plain":"loss function"}}]}]}]},{"attributes":{},"tag":"h3","children":[{"mimes":{"text/plain":"Two"}},{"mimes":{"text/plain":"-"}},{"mimes":{"text/plain":"way callbacks"}}]},{"attributes":{},"tag":"p","children":[{"mimes":{"text/plain":"The training loop also supports two"}},{"mimes":{"text/plain":"-"}},{"mimes":{"text/plain":"way callbacks"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" See the "}},{"attributes":{"href":"https://fluxml.ai/FluxTraining.jl/dev/docs/callbacks/reference.md.html","title":""},"tag":"a","children":[{"mimes":{"text/plain":"FluxTraining"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":"jl docs"}}]},{"mimes":{"text/plain":" for a list of all available callbacks"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" While supporting all the functionality of fastai"}},{"mimes":{"text/plain":"’"}},{"mimes":{"text/plain":"s callbacks and training loop, it also provides "}},{"attributes":{"href":"https://fluxml.ai/FluxTraining.jl/dev/docs/tutorials/training.md.html","title":""},"tag":"a","children":[{"mimes":{"text/plain":"an extensible training loop API"}}]},{"mimes":{"text/plain":" that makes it straightforward to integrate custom training steps with the available callbacks"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" As a result, different training steps for problems other than standard supervised training can make use of existing callbacks  without the need to handle control flow through callbacks"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" Additionally, callbacks have an additional level of safety by being required to declare what state they access and modify"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" With a little more effort up"}},{"mimes":{"text/plain":"-"}},{"mimes":{"text/plain":"front, this guarantees correct ordering of callback execution through "}},{"attributes":{"href":"https://fluxml.ai/FluxTraining.jl/dev/docs/callbacks/tipstricks.md.html#visualize-the-callback-dependency-graph","title":""},"tag":"a","children":[{"mimes":{"text/plain":"a dependency graph"}}]},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" In the future, this will also make it possible to automatically run callbacks in parallel and asynchronously to reduce overhead by long"}},{"mimes":{"text/plain":"-"}},{"mimes":{"text/plain":"running callbacks like costly metric calculations and logging over the network"}},{"mimes":{"text/plain":"."}}]},{"attributes":{},"tag":"h3","children":[{"mimes":{"text/plain":"Encodings and blocks"}}]},{"attributes":{},"tag":"p","children":[{"mimes":{"text/plain":"In the paper, this subsection is in the low"}},{"mimes":{"text/plain":"-"}},{"mimes":{"text/plain":"level section (named Transforms and Pipelines), but I"}},{"mimes":{"text/plain":"’"}},{"mimes":{"text/plain":"m putting it here since it is the core of FastAI"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":"jl"}},{"mimes":{"text/plain":"’"}},{"mimes":{"text/plain":"s data block API"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" FastAI"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":"jl provides "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"Encoding"}}]},{"mimes":{"text/plain":"s and "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"Block"}}]},{"mimes":{"text/plain":"s which correspond to fastai"}},{"mimes":{"text/plain":"’"}},{"mimes":{"text/plain":"s "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"Transform"}}]},{"mimes":{"text/plain":"s and "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"Block"}}]},{"mimes":{"text/plain":"s"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" Encodings implement an "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"encode"}}]},{"mimes":{"text/plain":" (and optionally "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"decode"}}]},{"mimes":{"text/plain":") function that describes how data corresponding to some blocks is transformed and how that transformation can be inverted"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" There is also support for stateful encodings like "}},{"attributes":{"reftype":"symbol","document_id":"references/FastAI.ProjectiveTransforms"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"ProjectiveTransforms"}}]}]},{"mimes":{"text/plain":" which need to use the same random state to augment every data point"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" Additionally, encodings describe what kind of block data is returned from encoding, allowing inspection of the whole data pipeline"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" The "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"Block"}}]},{"mimes":{"text/plain":"s are used to dispatch in the "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"encode"}}]},{"mimes":{"text/plain":" function to implement block"}},{"mimes":{"text/plain":"-"}},{"mimes":{"text/plain":"specific transformations"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" If no "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"encode"}}]},{"mimes":{"text/plain":" task is implemented for a pair of encoding and block, the default is to pass the data through unchanged like in fastai"}},{"mimes":{"text/plain":"."}}]},{"attributes":{},"tag":"p","children":[{"mimes":{"text/plain":"The "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"Block"}}]},{"mimes":{"text/plain":"s also allow implementing task"}},{"mimes":{"text/plain":"-"}},{"mimes":{"text/plain":"specific functionality:"}}]},{"attributes":{},"tag":"ul","children":[{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"attributes":{"reftype":"symbol","document_id":"references/FastAI.blocklossfn"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"blocklossfn"}}]}]},{"mimes":{"text/plain":" takes a prediction and encoded target block to determine a good loss function to use"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" For example, for image classification we want to compare two one"}},{"mimes":{"text/plain":"-"}},{"mimes":{"text/plain":"hot encoded labels and hence define "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"blocklossfn(::OneHotTensor{0}, ::OneHotTensor{0}) = logitcrossentropy"}}]},{"mimes":{"text/plain":"."}}]}]},{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"attributes":{"reftype":"symbol","document_id":"references/FastAI.blockmodel"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"blockmodel"}}]}]},{"mimes":{"text/plain":" constructs a model from a backbone that maps an input block to an output block"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" For example, for image segmentation we have "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"ImageTensor{N}()"}}]},{"mimes":{"text/plain":" as the input block and "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"OneHotTensor{N}"}}]},{"mimes":{"text/plain":" (one"}},{"mimes":{"text/plain":"-"}},{"mimes":{"text/plain":"hot encoded N"}},{"mimes":{"text/plain":"-"}},{"mimes":{"text/plain":"dimensional masks) as output, so "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"blockmodel"}}]},{"mimes":{"text/plain":" turns the backbone into a U"}},{"mimes":{"text/plain":"-"}},{"mimes":{"text/plain":"Net"}},{"mimes":{"text/plain":"."}}]}]},{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"attributes":{"reftype":"symbol","document_id":"references/FastAI.showblock!"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"showblock!"}}]}]},{"mimes":{"text/plain":" defines how to visualize a block of data"}},{"mimes":{"text/plain":"."}}]}]}]},{"attributes":{},"tag":"h3","children":[{"mimes":{"text/plain":"Generic optimizer"}}]},{"attributes":{},"tag":"p","children":[{"mimes":{"text/plain":"FastAI"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":"jl uses the optimizers from Flux"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":"jl, which provides a similarly "}},{"attributes":{"href":"https://fluxml.ai/Flux.jl/stable/training/optimisers/#Composing-Optimisers","title":""},"tag":"a","children":[{"mimes":{"text/plain":"composable API for optimzers"}}]},{"mimes":{"text/plain":"."}}]},{"attributes":{},"tag":"h3","children":[{"mimes":{"text/plain":"Generalized metric API"}}]},{"attributes":{},"tag":"p","children":[{"mimes":{"text/plain":"Metrics are handled by the "}},{"attributes":{"reftype":"symbol","document_id":"references/FluxTraining.Metrics"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"Metrics"}}]}]},{"mimes":{"text/plain":" callback which takes in reducing metric functions or "}},{"attributes":{"reftype":"symbol","document_id":"references/FluxTraining.AbstractMetric"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"FluxTraining.AbstractMetric"}}]}]},{"mimes":{"text/plain":"s which have a similar API to fastai"}},{"mimes":{"text/plain":"’"}},{"mimes":{"text/plain":"s"}},{"mimes":{"text/plain":"."}}]},{"attributes":{},"tag":"h3","children":[{"mimes":{"text/plain":"fastai"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":"data"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":"external"}}]},{"attributes":{},"tag":"p","children":[{"mimes":{"text/plain":"FastAI"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":"jl makes all the same datasets available in "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"fastai.data.external"}}]},{"mimes":{"text/plain":" available"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" See "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"FastAI.Datasets.DATASETS"}}]},{"mimes":{"text/plain":" for a list of all datasets and use "}},{"attributes":{"reftype":"symbol","document_id":"references/FastAI.datasetpath"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"datasetpath"}}]}]},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"(name)"}}]},{"mimes":{"text/plain":" to download and extract a dataset"}},{"mimes":{"text/plain":"."}}]},{"attributes":{},"tag":"h3","children":[{"mimes":{"text/plain":"funcs"}},{"mimes":{"text/plain":"_"}},{"mimes":{"text/plain":"kwargs and DataLoader, fastai"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":"data"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":"core"}}]},{"attributes":{},"tag":"p","children":[{"mimes":{"text/plain":"In FastAI"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":"jl, you are not restricted to a specific type of data iterator and can pass any iterator over batches to "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"Learner"}}]},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" In cases where performance is important "}},{"attributes":{"reftype":"symbol","document_id":"references/Flux.Data.DataLoader"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"DataLoader"}}]}]},{"mimes":{"text/plain":" can speed up data iteration by loading and batching samples in parallel on background threads"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" All transformations of data happen through the data container interface which requires a type to implement "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"LearnBase.getobs"}}]},{"mimes":{"text/plain":" and "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"LearnBase.nobs"}}]},{"mimes":{"text/plain":", similar to PyTorch"}},{"mimes":{"text/plain":"’"}},{"mimes":{"text/plain":"s "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"torch.utils.data.Dataset"}}]},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" Data containers are then transformed into other data containers"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" Some examples:"}}]},{"attributes":{},"tag":"ul","children":[{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"attributes":{"reftype":"symbol","document_id":"references/FastAI.mapobs"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"mapobs"}}]}]},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"(f, data)"}}]},{"mimes":{"text/plain":" lazily maps a function "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"f"}}]},{"mimes":{"text/plain":" of over "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"data"}}]},{"mimes":{"text/plain":" such that "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"getobs(mapobs(f, data), idx) == f(getobs(data, idx))"}}]},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" For example "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"mapobs(loadfile, files)"}}]},{"mimes":{"text/plain":" turns a vector of image files into a data container of images"}},{"mimes":{"text/plain":"."}}]}]},{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"DataLoader(data, batchsize)"}}]},{"mimes":{"text/plain":" is a wrapper around "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"batchviewcollated"}}]},{"mimes":{"text/plain":" which turns a data container of samples into one of collated batches and "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"eachobsparallel"}}]},{"mimes":{"text/plain":" which creates a parallel, buffered iterator over the observations (here batches) in the resulting container"}},{"mimes":{"text/plain":"."}}]}]},{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"attributes":{"reftype":"symbol","document_id":"references/FastAI.groupobs"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"groupobs"}}]}]},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"(f, data)"}}]},{"mimes":{"text/plain":" splits a container into groups using a grouping function "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"f"}}]},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" For example, "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"groupobs(grandparentname, files)"}}]},{"mimes":{"text/plain":" creates training splits for files where the grandparent folder indicates the split"}},{"mimes":{"text/plain":"."}}]}]},{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"attributes":{"reftype":"symbol","document_id":"references/FastAI.datasubset"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"datasubset"}}]}]},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"(data, idxs)"}}]},{"mimes":{"text/plain":" lazily takes a subset of the observations in "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"data"}}]},{"mimes":{"text/plain":"."}}]}]}]},{"attributes":{},"tag":"p","children":[{"mimes":{"text/plain":"For more information, see the "}},{"attributes":{"reftype":"document","href":"data_containers.md","title":"","document_id":"documents/docs/data_containers.md"},"tag":"reference","children":[{"mimes":{"text/plain":"data container tutorial"}}]},{"mimes":{"text/plain":" and the "}},{"attributes":{"href":"https://mldatapatternjl.readthedocs.io/en/latest/","title":""},"tag":"a","children":[{"mimes":{"text/plain":"MLDataPattern"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":"jl docs"}}]},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" At a higher level, there are also convenience functions like "}},{"attributes":{"reftype":"symbol","document_id":"references/FastAI.FileDataset"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"FileDataset"}}]}]},{"mimes":{"text/plain":" to create data containers"}},{"mimes":{"text/plain":"."}}]},{"attributes":{},"tag":"h3","children":[{"mimes":{"text/plain":"Layers and architectures"}}]},{"attributes":{},"tag":"p","children":[{"mimes":{"text/plain":"Flux"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":"jl already does a better job at functionally creating model architectures than PyTorch, so FastAI"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":"jl makes use of its layers"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" For example "}},{"attributes":{"reftype":"symbol","document_id":"references/Flux.SkipConnection"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"Flux.SkipConnection"}}]}]},{"mimes":{"text/plain":"  corresponds to fastai"}},{"mimes":{"text/plain":"’"}},{"mimes":{"text/plain":"s "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"MergeLayer"}}]},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" The "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"FastAI.Models"}}]},{"mimes":{"text/plain":" submodule currently provides some high"}},{"mimes":{"text/plain":"-"}},{"mimes":{"text/plain":"level architectures like "}},{"attributes":{"reftype":"symbol","document_id":"references/FastAI.Vision.Models.xresnet18"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"xresnet18"}}]}]},{"mimes":{"text/plain":" and a U"}},{"mimes":{"text/plain":"-"}},{"mimes":{"text/plain":"Net builder "}},{"attributes":{"reftype":"symbol","document_id":"references/FastAI.Vision.Models.UNetDynamic"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"UNetDynamic"}}]}]},{"mimes":{"text/plain":" that can create U"}},{"mimes":{"text/plain":"-"}},{"mimes":{"text/plain":"Nets from "}},{"attributes":{},"tag":"em","children":[{"mimes":{"text/plain":"any"}}]},{"mimes":{"text/plain":" convolutional feature extractor"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" The "}},{"attributes":{"reftype":"document","href":"setup.md","title":"","document_id":"documents/docs/setup.md"},"tag":"reference","children":[{"mimes":{"text/plain":"optional dependency"}}]},{"mimes":{"text/plain":" "}},{"attributes":{"href":"https://github.com/FluxML/Metalhead.jl","title":""},"tag":"a","children":[{"mimes":{"text/plain":"Metalhead"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":"jl"}}]},{"mimes":{"text/plain":" also provides common pretrained vision models"}},{"mimes":{"text/plain":"."}}]},{"attributes":{},"tag":"h2","children":[{"mimes":{"text/plain":"Low"}},{"mimes":{"text/plain":"-"}},{"mimes":{"text/plain":"level APIs"}}]},{"attributes":{},"tag":"p","children":[{"mimes":{"text/plain":"Due to the nature of the Julia language and its design around multiple dispatch, packages tend to compose really well, so it was not necessary to reimplement or provide a unified API for low"}},{"mimes":{"text/plain":"-"}},{"mimes":{"text/plain":"level operations"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" We"}},{"mimes":{"text/plain":"’"}},{"mimes":{"text/plain":"ll comment on the libraries that we were able to use"}},{"mimes":{"text/plain":"."}}]},{"attributes":{},"tag":"h3","children":[{"mimes":{"text/plain":"PyTorch foundations"}}]},{"attributes":{},"tag":"p","children":[{"mimes":{"text/plain":"Unlike Python, Julia has native support for N"}},{"mimes":{"text/plain":"-"}},{"mimes":{"text/plain":"dimensional regular arrays"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" As such, there is a standard interface for arrays and libraries don"}},{"mimes":{"text/plain":"’"}},{"mimes":{"text/plain":"t need to implement their own"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" Consider that every deep learning framework in Python implements their own CPU and GPU arrays, which is part of the reason they are "}},{"attributes":{},"tag":"em","children":[{"mimes":{"text/plain":"frameworks"}}]},{"mimes":{"text/plain":", not "}},{"attributes":{},"tag":"em","children":[{"mimes":{"text/plain":"libraries"}}]},{"mimes":{"text/plain":" (with the latter being vastly preferable)"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" Julia"}},{"mimes":{"text/plain":"’"}},{"mimes":{"text/plain":"s standard libraries implements the standard CPU "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"Array"}}]},{"mimes":{"text/plain":" type"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" GPU arrays are implemented through "}},{"attributes":{"href":"https://github.com/JuliaGPU/CUDA.jl","title":""},"tag":"a","children":[{"mimes":{"text/plain":"CUDA"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":"jl"}}]},{"mimes":{"text/plain":" "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"CuArray"}}]},{"mimes":{"text/plain":" type (with unified support for GPU vendors other than nvidia in the works)"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" As a result, Flux"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":"jl, the deep learning library of choice for FastAI"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":"jl, does not need to reimplement their own CPU and GPU array versions"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" This kind of composability in general largely benefits what can be accomplished in Julia"}},{"mimes":{"text/plain":"."}}]},{"attributes":{},"tag":"p","children":[{"mimes":{"text/plain":"Some other libraries which are used under the hood: for image processing, the "}},{"attributes":{"href":"https://juliaimages.org/","title":""},"tag":"a","children":[{"mimes":{"text/plain":"Images"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":"jl"}}]},{"mimes":{"text/plain":" ecosystem of packages is used; for reading and processing tabular data "}},{"attributes":{"href":"https://github.com/JuliaData/DataFrames.jl","title":""},"tag":"a","children":[{"mimes":{"text/plain":"DataFrames"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":"jl"}}]},{"mimes":{"text/plain":" and "}},{"attributes":{"href":"https://github.com/JuliaData/Tables.jl","title":""},"tag":"a","children":[{"mimes":{"text/plain":"Tables"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":"jl"}}]},{"mimes":{"text/plain":"; for plotting "}},{"attributes":{"href":"https://github.com/JuliaPlots/Makie.jl","title":""},"tag":"a","children":[{"mimes":{"text/plain":"Makie"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":"jl"}}]},{"mimes":{"text/plain":"."}}]},{"attributes":{},"tag":"h3","children":[{"mimes":{"text/plain":"Type dispatch"}}]},{"attributes":{},"tag":"p","children":[{"mimes":{"text/plain":"Multiple dispatch already is a core feature of the Julia language, hence the extensible interfaces in FastAI"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":"jl are built around it and are natural fit for the language"}},{"mimes":{"text/plain":"."}}]},{"attributes":{},"tag":"h3","children":[{"mimes":{"text/plain":"Object"}},{"mimes":{"text/plain":"-"}},{"mimes":{"text/plain":"oriented semantic tensors"}}]},{"attributes":{},"tag":"p","children":[{"mimes":{"text/plain":"As mentioned above, Julia has great support for arrays with extra functionality available to packages that provide wrapper arrays like "}},{"attributes":{"href":"https://github.com/invenia/NamedDims.jl","title":""},"tag":"a","children":[{"mimes":{"text/plain":"NamedDims"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":"jl"}}]},{"mimes":{"text/plain":" which should generally "}},{"attributes":{},"tag":"em","children":[{"mimes":{"text/plain":"just work"}}]},{"mimes":{"text/plain":" with every part of the library"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" Hence there is no need for an addtional API that unifies separate packages, which in turn makes FastAI"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":"jl more composable with other packages"}},{"mimes":{"text/plain":"."}}]},{"attributes":{},"tag":"p","children":[{"mimes":{"text/plain":"In encodings, the array types are used for dispatch only where an especially performant implementation is possible, and the block information is used for dispatching the semantics of the encoding"}},{"mimes":{"text/plain":"."}}]},{"attributes":{},"tag":"h3","children":[{"mimes":{"text/plain":"GPU"}},{"mimes":{"text/plain":"-"}},{"mimes":{"text/plain":"accelerated augmentation"}}]},{"attributes":{},"tag":"p","children":[{"mimes":{"text/plain":"FastAI"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":"jl does not support GPU"}},{"mimes":{"text/plain":"-"}},{"mimes":{"text/plain":"accelerated augmentation (yet)"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" Please open an issue if you run into a situation where data processing "}},{"attributes":{"reftype":"document","href":"background/datapipelines.md","title":"","document_id":"documents/docs/background/datapipelines.md"},"tag":"reference","children":[{"mimes":{"text/plain":"becomes the bottleneck"}}]},{"mimes":{"text/plain":" and we"}},{"mimes":{"text/plain":"’"}},{"mimes":{"text/plain":"ll prioritize this"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" The affine transformations implemented in DataAugmentation"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":"jl and used in FastAI"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":"jl are properly composed to ensure high quality results"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" They are also optimized for speed and memory usage (with complete support for inplace transformations)"}},{"mimes":{"text/plain":"."}}]},{"attributes":{},"tag":"h3","children":[{"mimes":{"text/plain":"Convenience functionality"}}]},{"attributes":{},"tag":"p","children":[{"mimes":{"text/plain":"Much of the convenience provided by fastai is not required in Julia:"}}]},{"attributes":{},"tag":"ul","children":[{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"@delegates"}}]},{"mimes":{"text/plain":": Due to the absence of deep class hierarchies, keyword arguments are seldom passed around (the only instance where this happens in FastAI"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":"jl is "}},{"attributes":{"reftype":"symbol","document_id":"references/FastAI.tasklearner"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"tasklearner"}}]}]},{"mimes":{"text/plain":")"}},{"mimes":{"text/plain":"."}}]}]},{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"@patch"}}]},{"mimes":{"text/plain":": since Julia is built around multiple dispatch, not classes, you just implement the task for a type, no patching needed"}}]}]},{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"L"}}]},{"mimes":{"text/plain":": due to first"}},{"mimes":{"text/plain":"-"}},{"mimes":{"text/plain":"class array support such a wrapper list container isn"}},{"mimes":{"text/plain":"’"}},{"mimes":{"text/plain":"t needed"}}]}]}]},{"attributes":{},"tag":"h2","children":[{"mimes":{"text/plain":"nbdev"}}]},{"attributes":{},"tag":"p","children":[{"mimes":{"text/plain":"There is no "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"nbdev"}}]},{"mimes":{"text/plain":"-"}},{"mimes":{"text/plain":"equivalent in Julia at the moment"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" That said, this documentation is generated by a document creation package "}},{"attributes":{"href":"https://github.com/lorenzoh/Pollen.jl","title":""},"tag":"a","children":[{"mimes":{"text/plain":"Pollen"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":"jl"}}]},{"mimes":{"text/plain":" that could be extended to support such a workflow"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" It already has support for different source and output formats like Jupyter notebooks, code execution and is built for interactive work with incremental rebuilds"}},{"mimes":{"text/plain":"."}}]},{"attributes":{},"tag":"hr","children":[]},{"attributes":{},"tag":"p","children":[{"mimes":{"text/plain":"Hopefully this page has given you some context for how FastAI"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":"jl relates to fastai and how to map concepts between the two"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" You are encouraged to go through the tutorials to see the design decisions made in practice"}},{"mimes":{"text/plain":"."}}]}]}