{"attributes":{"kind":"const","backlinks":[],"name":"tests","title":"tests","symbol_id":"FastAI.Datasets.##InlineTest-01b48f5c342f65df7fcd07f28f0d2cacbb09f0a0.tests","public":false,"module_id":"FastAI.Datasets.##InlineTest-01b48f5c342f65df7fcd07f28f0d2cacbb09f0a0"},"tag":"documentation","children":[{"attributes":{},"tag":"codecell","children":[{"attributes":{"lang":"julia"},"tag":"codeinput","children":[{"attributes":{"lang":"julia"},"tag":"codeblock","children":[{"attributes":{},"tag":"julia","children":["FastAI.Datasets.##InlineTest-01b48f5c342f65df7fcd07f28f0d2cacbb09f0a0.tests"],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"coderesult","children":[{"attributes":{},"tag":"codeblock","children":[{"mimes":{"text/html":"(tests = Any[], news = Any[(ts = (&quot;TableDataset&quot;, quote\n    <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/containers.jl:100 =#</span>\n    <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/containers.jl:100 =#</span> @testset &quot;TableDataset from rowaccess table&quot; begin\n            <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/containers.jl:101 =#</span>\n            Tables.columnaccess(::Type{&lt;:Tables.MatrixTable}) = begin\n                    <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/containers.jl:101 =#</span>\n                    false\n                end\n            <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/containers.jl:102 =#</span>\n            Tables.rowaccess(::Type{&lt;:Tables.MatrixTable}) = begin\n                    <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/containers.jl:102 =#</span>\n                    true\n                end\n            <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/containers.jl:104 =#</span>\n            testtable = Tables.table([1 4.0 &quot;7&quot;; 2 5.0 &quot;8&quot;; 3 6.0 &quot;9&quot;])\n            <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/containers.jl:105 =#</span>\n            td = TableDataset(testtable)\n            <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/containers.jl:107 =#</span>\n            <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/containers.jl:107 =#</span> @test all(getobs(td, 1) .== [1, 4.0, &quot;7&quot;])\n            <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/containers.jl:108 =#</span>\n            <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/containers.jl:108 =#</span> @test nobs(td) == 3\n        end\n    <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/containers.jl:111 =#</span>\n    <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/containers.jl:111 =#</span> @testset &quot;TableDataset from columnaccess table&quot; begin\n            <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/containers.jl:112 =#</span>\n            Tables.columnaccess(::Type{&lt;:Tables.MatrixTable}) = begin\n                    <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/containers.jl:112 =#</span>\n                    true\n                end\n            <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/containers.jl:113 =#</span>\n            Tables.rowaccess(::Type{&lt;:Tables.MatrixTable}) = begin\n                    <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/containers.jl:113 =#</span>\n                    false\n                end\n            <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/containers.jl:115 =#</span>\n            testtable = Tables.table([1 4.0 &quot;7&quot;; 2 5.0 &quot;8&quot;; 3 6.0 &quot;9&quot;])\n            <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/containers.jl:116 =#</span>\n            td = TableDataset(testtable)\n            <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/containers.jl:118 =#</span>\n            <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/containers.jl:118 =#</span> @test [data for data = getobs(td, 2)] == [2, 5.0, &quot;8&quot;]\n            <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/containers.jl:119 =#</span>\n            <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/containers.jl:119 =#</span> @test nobs(td) == 3\n            <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/containers.jl:121 =#</span>\n            <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/containers.jl:121 =#</span> @test getobs(td, 1) isa NamedTuple\n        end\n    <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/containers.jl:124 =#</span>\n    <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/containers.jl:124 =#</span> @testset &quot;TableDataset from DataFrames&quot; begin\n            <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/containers.jl:125 =#</span>\n            testtable = DataFrame(col1 = [1, 2, 3, 4, 5], col2 = [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;], col3 = [10, 20, 30, 40, 50], col4 = [&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;], col5 = [100.0, 200.0, 300.0, 400.0, 500.0], split = [&quot;train&quot;, &quot;train&quot;, &quot;train&quot;, &quot;valid&quot;, &quot;valid&quot;])\n            <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/containers.jl:133 =#</span>\n            td = TableDataset(testtable)\n            <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/containers.jl:134 =#</span>\n            <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/containers.jl:134 =#</span> @test td isa TableDataset{&lt;:DataFrame}\n            <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/containers.jl:136 =#</span>\n            <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/containers.jl:136 =#</span> @test [data for data = getobs(td, 1)] == [1, &quot;a&quot;, 10, &quot;A&quot;, 100.0, &quot;train&quot;]\n            <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/containers.jl:137 =#</span>\n            <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/containers.jl:137 =#</span> @test nobs(td) == 5\n        end\n    <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/containers.jl:140 =#</span>\n    <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/containers.jl:140 =#</span> @testset &quot;TableDataset from CSV&quot; begin\n            <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/containers.jl:141 =#</span>\n            open(&quot;test.csv&quot;, &quot;w&quot;) do io\n                <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/containers.jl:142 =#</span>\n                write(io, &quot;col1,col2,col3,col4,col5, split\\n1,a,10,A,100.,train&quot;)\n            end\n            <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/containers.jl:144 =#</span>\n            testtable = CSV.File(&quot;test.csv&quot;)\n            <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/containers.jl:145 =#</span>\n            td = TableDataset(testtable)\n            <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/containers.jl:146 =#</span>\n            <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/containers.jl:146 =#</span> @test td isa TableDataset{&lt;:CSV.File}\n            <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/containers.jl:147 =#</span>\n            <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/containers.jl:147 =#</span> @test [data for data = getobs(td, 1)] == [1, &quot;a&quot;, 10, &quot;A&quot;, 100.0, &quot;train&quot;]\n            <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/containers.jl:148 =#</span>\n            <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/containers.jl:148 =#</span> @test nobs(td) == 1\n            <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/containers.jl:149 =#</span>\n            rm(&quot;test.csv&quot;)\n        end\nend), source = :(<span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/containers.jl:99 =#</span>)), (ts = (&quot;Data container transformations&quot;, quote\n    <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/transformations.jl:165 =#</span>\n    <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/transformations.jl:165 =#</span> @testset &quot;mapobs&quot; begin\n            <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/transformations.jl:166 =#</span>\n            data = 1:10\n            <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/transformations.jl:167 =#</span>\n            mdata = mapobs(-, data)\n            <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/transformations.jl:168 =#</span>\n            <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/transformations.jl:168 =#</span> @test getobs(mdata, 8) == -8\n            <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/transformations.jl:170 =#</span>\n            mdata2 = mapobs((-, (x-&gt;begin\n                                <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/transformations.jl:170 =#</span>\n                                2x\n                            end)), data)\n            <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/transformations.jl:171 =#</span>\n            <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/transformations.jl:171 =#</span> @test getobs(mdata2, 8) == (-8, 16)\n            <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/transformations.jl:173 =#</span>\n            nameddata = mapobs((x = sqrt, y = log), data)\n            <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/transformations.jl:174 =#</span>\n            <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/transformations.jl:174 =#</span> @test getobs(nameddata, 10) == (x = sqrt(10), y = log(10))\n            <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/transformations.jl:175 =#</span>\n            <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/transformations.jl:175 =#</span> @test getobs(nameddata.x, 10) == sqrt(10)\n        end\n    <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/transformations.jl:178 =#</span>\n    <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/transformations.jl:178 =#</span> @testset &quot;filterobs&quot; begin\n            <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/transformations.jl:179 =#</span>\n            data = 1:10\n            <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/transformations.jl:180 =#</span>\n            fdata = filterobs((&gt;)(5), data)\n            <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/transformations.jl:181 =#</span>\n            <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/transformations.jl:181 =#</span> @test nobs(fdata) == 5\n        end\n    <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/transformations.jl:184 =#</span>\n    <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/transformations.jl:184 =#</span> @testset &quot;groupobs&quot; begin\n            <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/transformations.jl:185 =#</span>\n            data = -10:10\n            <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/transformations.jl:186 =#</span>\n            datas = groupobs((&gt;)(0), data)\n            <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/transformations.jl:187 =#</span>\n            <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/transformations.jl:187 =#</span> @test length(datas) == 2\n        end\n    <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/transformations.jl:190 =#</span>\n    <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/transformations.jl:190 =#</span> @testset &quot;joinobs&quot; begin\n            <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/transformations.jl:191 =#</span>\n            (data1, data2) = (1:10, 11:20)\n            <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/transformations.jl:192 =#</span>\n            jdata = joinobs(data1, data2)\n            <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/transformations.jl:193 =#</span>\n            <span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/transformations.jl:193 =#</span> @test getobs(jdata, 15) == 15\n        end\nend), source = :(<span class=\"sgr90\">#= /home/runner/.julia/packages/FastAI/E6lvM/src/datasets/transformations.jl:164 =#</span>))], map = Dict{Union{Expr, String}, Int64}())"},"type":"leaf"}],"type":"node"}],"type":"node"}],"type":"node"}],"type":"node"}